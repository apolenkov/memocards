/* ==================== Flashcard Cards List ==================== */

/* Flashcard card styling */
.flashcard-card {
    position: relative;
    width: 100%;
    max-width: 100%;
    margin-bottom: var(--lumo-space-s);
    border: 1px solid var(--lumo-contrast-10pct);
    border-radius: var(--lumo-border-radius-m);
    background: var(--lumo-base-color);
    transition: all 0.2s ease; /* Smooth transitions for all properties */
    cursor: pointer; /* Double-click to edit */
    box-sizing: border-box; /* Include padding/border in width calculation */
    box-shadow: var(--lumo-box-shadow-s);
    overflow-x: hidden; /* Prevent horizontal scroll */
    word-wrap: break-word; /* Break long words to prevent overflow */
}

/* Known flashcard - green left border */
.flashcard-card--known {
    border-left: 4px solid var(--lumo-success-color);
}

/* Unknown flashcard - light blue left border (like edit icon) */
.flashcard-card--unknown {
    border-left: 4px solid var(--lumo-primary-color-50pct);
}


.flashcard-card:hover {
    border-color: var(--lumo-primary-color-30pct); /* Subtle border highlight */
    background: var(--lumo-contrast-5pct); /* Subtle background highlight */
    box-shadow: var(--lumo-box-shadow-m);
}

.flashcard-card:active {
    background: var(--lumo-primary-color-10pct);
    transform: scale(0.98); /* Subtle press effect */
}

.flashcard-card:focus {
    outline: 2px solid var(--lumo-primary-color);
    outline-offset: 2px;
}

/* Front text styling */
.flashcard-front {
    flex-grow: 1;
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-m);
    font-weight: var(--lumo-font-weight-medium);
    cursor: text; /* Text is selectable, not clickable */
    user-select: text; /* Allow text selection */
}

/* Example text styling */
.flashcard-example {
    margin-top: var(--lumo-space-xs);
    color: var(--lumo-secondary-text-color);
    font-size: var(--lumo-font-size-s);
    cursor: text; /* Text is selectable, not clickable */
    font-style: italic;
    user-select: text; /* Allow text selection */
}

/* Known indicator (checkmark) - hidden, replaced with border */
.flashcard-known-indicator {
    display: none;
}

/* Desktop action buttons */
.flashcard-desktop-actions {
    display: flex;
    align-items: center;
    gap: var(--lumo-space-xs);
}

/* Action buttons styling */
.flashcard-desktop-actions button {
    min-width: 44px;
    min-height: 44px;
}

/* Mobile action buttons - same as desktop but with mobile-specific styling */

@media (max-width: 767px) {
    .flashcard-desktop-actions button {
        min-width: 44px;
        min-height: 44px;
        padding: var(--lumo-space-xs);
    }
}

/* Mobile: Compact cards */

@media (max-width: 767px) {
    .flashcard-card {
        margin-bottom: var(--lumo-space-xs);
    }
    
    .flashcard-front {
        font-size: var(--lumo-font-size-s);
    }
    
    .flashcard-example {
        font-size: var(--lumo-font-size-xs);
    }
}

/* ==================== Search Controls - Search & Filter ==================== */

/* Search controls container - ensure proper padding */
.deck-search-controls-container {
    margin: 0;
}

/* Search field with hover effect and responsive width */
.deck-search-field {
    width: 100%;
    max-width: 600px;
    margin: 0;
    transition: box-shadow var(--lumo-transition-duration) ease, transform var(--lumo-transition-duration) ease;
}


/* Flex properties for search controls - desktop: search grows, filter fixed */
.search-field-flex {
    flex: 1;
}

.filter-combobox-flex {
    flex: 0 0 auto;
}

/* Filter combobox with hover effect - responsive width */
.deck-filter-combobox {
    width: var(--app-filter-width);
    max-width: var(--app-filter-width);
    margin: 0;
    transition: box-shadow var(--lumo-transition-duration) ease, transform var(--lumo-transition-duration) ease;
}

/* Mobile: equal width for search and filter (50/50) */

@media (max-width: 767px) {
    .deck-search-controls-container {
        padding: 0 var(--lumo-space-s);
    }
    
    /* Both search and filter take equal space */
    .search-field-flex,
    .filter-combobox-flex {
        flex: 1;
    }
    
    .deck-filter-combobox {
        width: auto;
        max-width: none;
    }
}

/* ==================== DeckToolbar - Search & Add ==================== */

/* Mobile: Horizontal layout with proper sizing */
.deck-toolbar {
    width: 100%;
    max-width: var(--app-card-max, 700px); /* Same as deck-card */
    margin: 0 auto; /* Center the toolbar */
    box-sizing: border-box; /* Include padding in width calculation */
}

.deck-toolbar > * {
    flex-direction: row;
    gap: var(--lumo-space-s);
    align-items: center;
    justify-content: space-between; /* Search on left, button on right */
    width: 100%;
    box-sizing: border-box;
}

.deck-toolbar__search {
    flex: 1;
    min-width: 0; /* Allow shrinking */
    transition: box-shadow var(--lumo-transition-duration) ease, transform var(--lumo-transition-duration) ease;
}

.deck-toolbar__add-button {
    flex-shrink: 0; /* Prevent button from shrinking */
    white-space: nowrap; /* Prevent text wrapping */
}

/* Ensure search field doesn't overflow */
.deck-toolbar__search vaadin-text-field {
    width: 100%;
    max-width: 100%;
}

/* Ensure button text fits */
.deck-toolbar__add-button vaadin-button {
    width: 100%;
    max-width: 100%;
    font-size: var(--lumo-font-size-s); /* Smaller font on mobile */
}

/* Mobile: Hide button text, show only icon */

@media (max-width: 767px) {
    /* Add deck button - icon only */
    .deck-toolbar__add-button {
        position: relative;
        width: var(--app-mobile-button-size);
        height: var(--app-mobile-button-size);
        min-width: var(--app-mobile-button-size);
        max-width: var(--app-mobile-button-size);
        padding: 0;
    }
    
    /* Hide text via ::part(label) */
    .deck-toolbar__add-button::part(label) {
        display: none;
    }
    
    /* Show icon over text */
    .deck-toolbar__add-button vaadin-icon {
        position: absolute;
        top: 50%;
        left: 50%;
        margin: 0;
        font-size: var(--lumo-icon-size-m);
        transform: translate(-50%, -50%);
    }
}

/* ==================== DeckGrid - Search Controls & Grid Actions ==================== */

/* Flashcard actions menu - compact menu in table - styling via MenuButton */

/* Tablet and up: More spacing and larger text */

@media (min-width: 768px) {
    .deck-toolbar > * {
        gap: var(--lumo-space-m);
    }
    
    .deck-toolbar__add-button vaadin-button {
        min-width: auto;
        max-width: none;
        padding: var(--lumo-space-xs) var(--lumo-space-m);
        font-size: var(--lumo-font-size-m); /* Normal font size on larger screens */
    }
    
    .deck-toolbar__add-button vaadin-button vaadin-icon {
        margin-right: var(--lumo-space-xs);
    }
}

/* ==================== StatsView - Responsive Grid ==================== */

/* Mobile: 1 column, stacked */
.stats-today-grid,
.stats-overall-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--lumo-space-s);
    width: 100%;
}

.stats-card {
    width: 100%;
    min-width: unset;
}

/* Small mobile: 2 columns */

@media (min-width: 480px) {
    .stats-today-grid,
    .stats-overall-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Tablet: 4 columns */

@media (min-width: 768px) {
    .stats-today-grid,
    .stats-overall-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--lumo-space-m);
    }
}

/* Deck stats cards - mobile optimization */
.deck-stats-card {
    width: 100%;
    min-width: unset;
}

.stats-current-deck__container {
    min-height: unset;
    padding: var(--lumo-space-m);
}

/* Deck stats grid - responsive */
.deck-stats-card__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--lumo-space-s);
}

@media (min-width: 480px) {
    .deck-stats-card__grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 768px) {
    .deck-stats-card__grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* ==================== AdminNewsView - Responsive Toolbar ==================== */

/* Mobile: Stack search and button */
.admin-content-toolbar {
    width: 100%;
    max-width: var(--app-card-max, 700px); /* Same as news-card */
    margin: 0 auto; /* Center the toolbar */
    box-sizing: border-box; /* Include padding in width calculation */
}

.admin-content-toolbar > * {
    flex-direction: column;
    gap: var(--lumo-space-s);
    width: 100%;
}

.admin-content-toolbar vaadin-text-field {
    width: 100%;
}

.admin-content-toolbar button {
    width: 100%;
}

/* Tablet and up: Horizontal layout */

@media (min-width: 768px) {
    .admin-content-toolbar > * {
        flex-direction: row;
        gap: var(--lumo-space-m);
    }
    
    .admin-content-toolbar vaadin-text-field {
        flex: 1;
        width: auto;
    }
    
    .admin-content-toolbar button {
        width: auto;
    }
}

/* News cards - prevent overflow */
.news-card {
    width: 100%;
    max-width: 100%;
    padding: var(--lumo-space-m);
    box-sizing: border-box;
}

.news-card__content {
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* News card actions - mobile stack */
.news-card__actions {
    display: flex;
    flex-direction: column;
    gap: var(--lumo-space-s);
    width: 100%;
}

.news-card__actions button {
    width: 100%;
}

@media (min-width: 768px) {
    .news-card {
        max-width: var(--app-card-max, 700px);
    }
    
    .news-card__actions {
        flex-direction: row;
        width: auto;
    }
    
    .news-card__actions button {
        width: auto;
    }
}

/* ==================== DecksView - Card Grid ==================== */

/* Deck cards container */
.decks-list {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--lumo-space-m);
    width: 100%;
    max-width: var(--app-card-max, 700px); /* Same as deck-card */
    margin: 0 auto; /* Center the cards */
}

/* ==================== Deck Card Mobile Optimization ==================== */

/* Mobile: Compact deck card layout */

@media (max-width: 767px) {
    .deck-card {
        padding: var(--lumo-space-s); /* Smaller padding on mobile */
    }
    
    .deck-card__title {
        font-size: var(--lumo-font-size-m); /* Smaller title on mobile */
    }
    
    .deck-card__description {
        margin: var(--lumo-space-xs) 0; /* Smaller margins */
        font-size: var(--lumo-font-size-xs); /* Smaller description */
    }
    
    .deck-card__progress-label,
    .deck-card__progress-text,
    .deck-card__progress-details {
        font-size: var(--lumo-font-size-xs); /* Smaller progress text */
    }
    
    /* Very small screens: compact progress */

    @media (max-width: 480px) {
        .deck-card__progress-details {
            display: none; /* Hide detailed progress on very small screens */
        }
        
        .deck-card__progress-text {
            font-size: var(--lumo-font-size-xs);
        }
    }
    
    /* Practice button - icon only on mobile */
    .deck-card__practice-button {
        margin-top: var(--lumo-space-xs);
    }
    
    .deck-card__practice-button vaadin-button {
        position: relative;
        width: var(--app-mobile-practice-button-size);
        height: var(--app-mobile-practice-button-size);
        min-width: var(--app-mobile-practice-button-size);
        max-width: var(--app-mobile-practice-button-size);
        padding: 0;
    }

    /* Hide text via ::part(label) */
    .deck-card__practice-button vaadin-button::part(label) {
        display: none;
    }
    
    .deck-card__practice-button vaadin-button vaadin-icon {
        position: absolute;
        top: 50%;
        left: 50%;
        margin: 0;
        font-size: var(--lumo-icon-size-m);
        transform: translate(-50%, -50%);
    }
}

/* Tablet and up: Full button with text and responsive grid */

@media (min-width: 768px) {
    .deck-card__practice-button vaadin-button {
        width: auto;
        height: auto;
        min-width: auto;
        max-width: none;
        padding: var(--lumo-space-xs) var(--lumo-space-m);
        font-size: var(--lumo-font-size-s);
    }
    
    .deck-card__practice-button vaadin-button vaadin-icon {
        margin-right: var(--lumo-space-xs);
    }
    
    .decks-list {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    }
}

@media (min-width: 1024px) {
    .decks-list {
        grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    }
}

/* Deck card - prevent overflow */
.deck-card {
    width: 100%;
    max-width: 100%;
    margin: 0; /* Remove any margins that could cause overflow */
    box-sizing: border-box;
}

