---
alwaysApply: true
---

# ğŸ“š DETAILED RULES FOR SPECIFIC TOPICS

## ğŸ·ï¸ Search by Tags and Categories

### #java #spring
- **SOLID Principles** - all 5 principles always
- **Clean Architecture** - strict layer separation
- **Constructor Injection** - only for Spring beans (never @Autowired on fields)
- **Java 21+ patterns**: Virtual Threads, Pattern Matching, Records, Sealed Classes
- **Spring Boot 3.x**: Jakarta EE 10, Native compilation, AOT compilation
- **Modern concurrency**: Structured Concurrency, CompletableFuture, Reactive patterns

### #security #owasp
- **OWASP Top 10 2024** - latest compliance always
- **Input Validation** - validation of all external inputs
- **SQL Injection Protection** - parameterized queries
- **XSS Prevention** - encoding of user-generated content
- **Security Headers** - proper HTTP headers
- **Modern authentication** - OAuth2, JWT, MFA

### #performance #monitoring
- **Virtual Threads** - Java 21+ concurrency model
- **Caching Strategy** - strategic application
- **Async Processing** - CompletableFuture for I/O
- **Database Optimization** - query and index optimization
- **APM** - distributed tracing, metrics, alerting
- **Memory Management** - efficient memory usage
- **PostgreSQL optimization** - JSONB, arrays, full-text search

### #testing #qa
- **Testing Pyramid**: 70% Unit, 20% Integration, 10% E2E
- **Coverage**: minimum 80% for business logic
- **AAA Pattern**: Arrange, Act, Assert
- **Test Data Builders** - consistent test data
- **Mocking Strategy** - only external dependencies
- **Test Containers** - real PostgreSQL for integration tests
- **Mutation Testing** - PIT for code quality validation
- **AssertJ Best Practices**:
  - `isEqualTo(0)` â†’ `isZero()`
  - `get(0)` â†’ `getFirst()`
  - `List.of()` Ğ²Ğ¼ĞµÑÑ‚Ğ¾ `Arrays.asList()`
  - Ğ¦ĞµĞ¿Ğ¾Ñ‡ĞºĞ° assertThat: `assertThat(result).hasSize(3).isEqualTo(expected)`
  - `assertThat(result).contains(expected)` Ğ´Ğ»Ñ Optional Ğ²Ğ¼ĞµÑÑ‚Ğ¾ `assertThat(result.get()).isEqualTo(expected)`

### #ui #ux #vaadin
- **Vaadin 24+ DSL** - prefer native components
- **TypeScript support** - for custom components
- **Lumo Theme** - use standard tokens
- **i18n** - all strings through getTranslation()
- **Accessibility** - ARIA labels, semantic HTML
- **Responsive Design** - mobile-first approach
- **PWA features** - Progressive Web App capabilities
- **Virtual scrolling** - for large datasets

### #database #jpa #postgresql
- **JPA Entity Design** - @Id with @GeneratedValue, audit fields
- **Repository Layer** - @Query with parameters, pagination
- **DTOs** - separate from entities, immutable design
- **Transactions** - @Transactional at service level
- **Query Optimization** - avoid N+1 queries
- **PostgreSQL features**: JSONB, arrays, full-text search, partitioning
- **Connection pooling** - HikariCP optimization
- **Database migrations** - Flyway versioning

### #logging #communication
- **SLF4J/Logback** - never System.out.println
- **Structured Logging** - with proper context
- **MDC** - for request-scoped information
- **Russian** - for chat communication
- **English** - for code and documentation

## ğŸ” Problem Search

### "How to fix..."
- **SQL injection** â†’ #security #database
- **Memory leaks** â†’ #performance #java
- **Slow queries** â†’ #performance #database
- **Security vulnerabilities** â†’ #security #owasp
- **Code duplication** â†’ #architecture #solid
- **Poor performance** â†’ #performance #monitoring
- **Bad error messages** â†’ #error-handling #ui
- **Hardcoded strings** â†’ #i18n #ui
- **System.out.println** â†’ #logging #java
- **@Autowired on fields** â†’ #spring #architecture

### "How to implement..."
- **Caching** â†’ #caching #performance
- **Async processing** â†’ #async #performance
- **Security headers** â†’ #security #owasp
- **Error handling** â†’ #error-handling
- **Testing strategy** â†’ #testing
- **Database optimization** â†’ #database #performance
- **UI components** â†’ #ui #vaadin
- **Logging strategy** â†’ #logging
- **Documentation** â†’ #documentation
- **Monitoring** â†’ #monitoring #performance

## ğŸ“‹ Quick Version for Fast Overview

### Core Principles
1. **Autonomy** - complete tasks fully without confirmations
2. **Quality** - architecture > quick fixes
3. **Security** - OWASP compliance, validation of all inputs
4. **Performance** - caching, async operations, optimization
5. **Testing** - 80% unit, 20% integration, 10% e2e

### Key Prohibitions
- âŒ `System.out.println` â†’ use SLF4J/Logback
- âŒ FQN in code â†’ always add imports
- âŒ Hardcoded strings in UI â†’ use `getTranslation()`
- âŒ `@Autowired` on fields â†’ only constructor injection
- âŒ Primitives in nullable fields â†’ use wrapper types
- âŒ SQL string concatenation â†’ only parameterized queries
- âŒ Log sensitive information â†’ passwords, tokens, PII
- âŒ Full class names (FCL) â†’ always add proper imports
- âŒ Leave dead code â†’ remove unused methods, classes, variables
- âŒ Leave commented code â†’ delete or implement properly
- âŒ Leave unreachable code â†’ remove or fix logic
- âŒ Duplicate code â†’ extract common functionality, follow DRY principle
- âŒ Copy-paste code â†’ create reusable methods and utilities

## ğŸ¯ Result

Now you have **3 key files** instead of 17:
1. **`00-super-rules.mdc`** - ALL core rules in one place
2. **`01-commands.mdc`** - commands for maximum efficiency
3. **`02-detailed-rules.mdc`** - detailed rules by topics (this file)

**Maximum efficiency** with minimal number of files! ğŸš€


# ğŸ“š DETAILED RULES FOR SPECIFIC TOPICS

## ğŸ·ï¸ Search by Tags and Categories

### #java #spring
- **SOLID Principles** - all 5 principles always
- **Clean Architecture** - strict layer separation
- **Constructor Injection** - only for Spring beans (never @Autowired on fields)
- **Java 21+ patterns**: Virtual Threads, Pattern Matching, Records, Sealed Classes
- **Spring Boot 3.x**: Jakarta EE 10, Native compilation, AOT compilation
- **Modern concurrency**: Structured Concurrency, CompletableFuture, Reactive patterns

### #security #owasp
- **OWASP Top 10 2024** - latest compliance always
- **Input Validation** - validation of all external inputs
- **SQL Injection Protection** - parameterized queries
- **XSS Prevention** - encoding of user-generated content
- **Security Headers** - proper HTTP headers
- **Modern authentication** - OAuth2, JWT, MFA

### #performance #monitoring
- **Virtual Threads** - Java 21+ concurrency model
- **Caching Strategy** - strategic application
- **Async Processing** - CompletableFuture for I/O
- **Database Optimization** - query and index optimization
- **APM** - distributed tracing, metrics, alerting
- **Memory Management** - efficient memory usage
- **PostgreSQL optimization** - JSONB, arrays, full-text search

### #testing #qa
- **Testing Pyramid**: 70% Unit, 20% Integration, 10% E2E
- **Coverage**: minimum 80% for business logic
- **AAA Pattern**: Arrange, Act, Assert
- **Test Data Builders** - consistent test data
- **Mocking Strategy** - only external dependencies
- **Test Containers** - real PostgreSQL for integration tests
- **Mutation Testing** - PIT for code quality validation

### #ui #ux #vaadin
- **Vaadin 24+ DSL** - prefer native components
- **TypeScript support** - for custom components
- **Lumo Theme** - use standard tokens
- **i18n** - all strings through getTranslation()
- **Accessibility** - ARIA labels, semantic HTML
- **Responsive Design** - mobile-first approach
- **PWA features** - Progressive Web App capabilities
- **Virtual scrolling** - for large datasets

### #database #jpa #postgresql
- **JPA Entity Design** - @Id with @GeneratedValue, audit fields
- **Repository Layer** - @Query with parameters, pagination
- **DTOs** - separate from entities, immutable design
- **Transactions** - @Transactional at service level
- **Query Optimization** - avoid N+1 queries
- **PostgreSQL features**: JSONB, arrays, full-text search, partitioning
- **Connection pooling** - HikariCP optimization
- **Database migrations** - Flyway versioning

### #logging #communication
- **SLF4J/Logback** - never System.out.println
- **Structured Logging** - with proper context
- **MDC** - for request-scoped information
- **Russian** - for chat communication
- **English** - for code and documentation

## ğŸ” Problem Search

### "How to fix..."
- **SQL injection** â†’ #security #database
- **Memory leaks** â†’ #performance #java
- **Slow queries** â†’ #performance #database
- **Security vulnerabilities** â†’ #security #owasp
- **Code duplication** â†’ #architecture #solid
- **Poor performance** â†’ #performance #monitoring
- **Bad error messages** â†’ #error-handling #ui
- **Hardcoded strings** â†’ #i18n #ui
- **System.out.println** â†’ #logging #java
- **@Autowired on fields** â†’ #spring #architecture

### "How to implement..."
- **Caching** â†’ #caching #performance
- **Async processing** â†’ #async #performance
- **Security headers** â†’ #security #owasp
- **Error handling** â†’ #error-handling
- **Testing strategy** â†’ #testing
- **Database optimization** â†’ #database #performance
- **UI components** â†’ #ui #vaadin
- **Logging strategy** â†’ #logging
- **Documentation** â†’ #documentation
- **Monitoring** â†’ #monitoring #performance

## ğŸ“‹ Quick Version for Fast Overview

### Core Principles
1. **Autonomy** - complete tasks fully without confirmations
2. **Quality** - architecture > quick fixes
3. **Security** - OWASP compliance, validation of all inputs
4. **Performance** - caching, async operations, optimization
5. **Testing** - 80% unit, 20% integration, 10% e2e

### Key Prohibitions
- âŒ `System.out.println` â†’ use SLF4J/Logback
- âŒ FQN in code â†’ always add imports
- âŒ Hardcoded strings in UI â†’ use `getTranslation()`
- âŒ `@Autowired` on fields â†’ only constructor injection
- âŒ Primitives in nullable fields â†’ use wrapper types
- âŒ SQL string concatenation â†’ only parameterized queries
- âŒ Log sensitive information â†’ passwords, tokens, PII
- âŒ Full class names (FCL) â†’ always add proper imports

## ğŸ¯ Result

Now you have **3 key files** instead of 17:
1. **`00-super-rules.mdc`** - ALL core rules in one place
2. **`01-commands.mdc`** - commands for maximum efficiency
3. **`02-detailed-rules.mdc`** - detailed rules by topics (this file)

**Maximum efficiency** with minimal number of files! ğŸš€


**Maximum efficiency** with minimal number of files! ğŸš€


**Maximum efficiency** with minimal number of files! ğŸš€


**Maximum efficiency** with minimal number of files! ğŸš€





# ğŸ“š DETAILED RULES FOR SPECIFIC TOPICS

## ğŸ·ï¸ Search by Tags and Categories

### #java #spring
- **SOLID Principles** - all 5 principles always
- **Clean Architecture** - strict layer separation
- **Constructor Injection** - only for Spring beans (never @Autowired on fields)
- **Java 21+ patterns**: Virtual Threads, Pattern Matching, Records, Sealed Classes
- **Spring Boot 3.x**: Jakarta EE 10, Native compilation, AOT compilation
- **Modern concurrency**: Structured Concurrency, CompletableFuture, Reactive patterns

### #security #owasp
- **OWASP Top 10 2024** - latest compliance always
- **Input Validation** - validation of all external inputs
- **SQL Injection Protection** - parameterized queries
- **XSS Prevention** - encoding of user-generated content
- **Security Headers** - proper HTTP headers
- **Modern authentication** - OAuth2, JWT, MFA

### #performance #monitoring
- **Virtual Threads** - Java 21+ concurrency model
- **Caching Strategy** - strategic application
- **Async Processing** - CompletableFuture for I/O
- **Database Optimization** - query and index optimization
- **APM** - distributed tracing, metrics, alerting
- **Memory Management** - efficient memory usage
- **PostgreSQL optimization** - JSONB, arrays, full-text search

### #testing #qa
- **Testing Pyramid**: 70% Unit, 20% Integration, 10% E2E
- **Coverage**: minimum 80% for business logic
- **AAA Pattern**: Arrange, Act, Assert
- **Test Data Builders** - consistent test data
- **Mocking Strategy** - only external dependencies
- **Test Containers** - real PostgreSQL for integration tests
- **Mutation Testing** - PIT for code quality validation
- **AssertJ Best Practices**:
  - `isEqualTo(0)` â†’ `isZero()`
  - `get(0)` â†’ `getFirst()`
  - `List.of()` Ğ²Ğ¼ĞµÑÑ‚Ğ¾ `Arrays.asList()`
  - Ğ¦ĞµĞ¿Ğ¾Ñ‡ĞºĞ° assertThat: `assertThat(result).hasSize(3).isEqualTo(expected)`
  - `assertThat(result).contains(expected)` Ğ´Ğ»Ñ Optional Ğ²Ğ¼ĞµÑÑ‚Ğ¾ `assertThat(result.get()).isEqualTo(expected)`

### #ui #ux #vaadin
- **Vaadin 24+ DSL** - prefer native components
- **TypeScript support** - for custom components
- **Lumo Theme** - use standard tokens
- **i18n** - all strings through getTranslation()
- **Accessibility** - ARIA labels, semantic HTML
- **Responsive Design** - mobile-first approach
- **PWA features** - Progressive Web App capabilities
- **Virtual scrolling** - for large datasets

### #database #jpa #postgresql
- **JPA Entity Design** - @Id with @GeneratedValue, audit fields
- **Repository Layer** - @Query with parameters, pagination
- **DTOs** - separate from entities, immutable design
- **Transactions** - @Transactional at service level
- **Query Optimization** - avoid N+1 queries
- **PostgreSQL features**: JSONB, arrays, full-text search, partitioning
- **Connection pooling** - HikariCP optimization
- **Database migrations** - Flyway versioning

### #logging #communication
- **SLF4J/Logback** - never System.out.println
- **Structured Logging** - with proper context
- **MDC** - for request-scoped information
- **Russian** - for chat communication
- **English** - for code and documentation

## ğŸ” Problem Search

### "How to fix..."
- **SQL injection** â†’ #security #database
- **Memory leaks** â†’ #performance #java
- **Slow queries** â†’ #performance #database
- **Security vulnerabilities** â†’ #security #owasp
- **Code duplication** â†’ #architecture #solid
- **Poor performance** â†’ #performance #monitoring
- **Bad error messages** â†’ #error-handling #ui
- **Hardcoded strings** â†’ #i18n #ui
- **System.out.println** â†’ #logging #java
- **@Autowired on fields** â†’ #spring #architecture

### "How to implement..."
- **Caching** â†’ #caching #performance
- **Async processing** â†’ #async #performance
- **Security headers** â†’ #security #owasp
- **Error handling** â†’ #error-handling
- **Testing strategy** â†’ #testing
- **Database optimization** â†’ #database #performance
- **UI components** â†’ #ui #vaadin
- **Logging strategy** â†’ #logging
- **Documentation** â†’ #documentation
- **Monitoring** â†’ #monitoring #performance

## ğŸ“‹ Quick Version for Fast Overview

### Core Principles
1. **Autonomy** - complete tasks fully without confirmations
2. **Quality** - architecture > quick fixes
3. **Security** - OWASP compliance, validation of all inputs
4. **Performance** - caching, async operations, optimization
5. **Testing** - 80% unit, 20% integration, 10% e2e

### Key Prohibitions
- âŒ `System.out.println` â†’ use SLF4J/Logback
- âŒ FQN in code â†’ always add imports
- âŒ Hardcoded strings in UI â†’ use `getTranslation()`
- âŒ `@Autowired` on fields â†’ only constructor injection
- âŒ Primitives in nullable fields â†’ use wrapper types
- âŒ SQL string concatenation â†’ only parameterized queries
- âŒ Log sensitive information â†’ passwords, tokens, PII
- âŒ Full class names (FCL) â†’ always add proper imports
- âŒ Leave dead code â†’ remove unused methods, classes, variables
- âŒ Leave commented code â†’ delete or implement properly
- âŒ Leave unreachable code â†’ remove or fix logic
- âŒ Duplicate code â†’ extract common functionality, follow DRY principle
- âŒ Copy-paste code â†’ create reusable methods and utilities

## ğŸ¯ Result

Now you have **3 key files** instead of 17:
1. **`00-super-rules.mdc`** - ALL core rules in one place
2. **`01-commands.mdc`** - commands for maximum efficiency
3. **`02-detailed-rules.mdc`** - detailed rules by topics (this file)

**Maximum efficiency** with minimal number of files! ğŸš€


# ğŸ“š DETAILED RULES FOR SPECIFIC TOPICS

## ğŸ·ï¸ Search by Tags and Categories

### #java #spring
- **SOLID Principles** - all 5 principles always
- **Clean Architecture** - strict layer separation
- **Constructor Injection** - only for Spring beans (never @Autowired on fields)
- **Java 21+ patterns**: Virtual Threads, Pattern Matching, Records, Sealed Classes
- **Spring Boot 3.x**: Jakarta EE 10, Native compilation, AOT compilation
- **Modern concurrency**: Structured Concurrency, CompletableFuture, Reactive patterns

### #security #owasp
- **OWASP Top 10 2024** - latest compliance always
- **Input Validation** - validation of all external inputs
- **SQL Injection Protection** - parameterized queries
- **XSS Prevention** - encoding of user-generated content
- **Security Headers** - proper HTTP headers
- **Modern authentication** - OAuth2, JWT, MFA

### #performance #monitoring
- **Virtual Threads** - Java 21+ concurrency model
- **Caching Strategy** - strategic application
- **Async Processing** - CompletableFuture for I/O
- **Database Optimization** - query and index optimization
- **APM** - distributed tracing, metrics, alerting
- **Memory Management** - efficient memory usage
- **PostgreSQL optimization** - JSONB, arrays, full-text search

### #testing #qa
- **Testing Pyramid**: 70% Unit, 20% Integration, 10% E2E
- **Coverage**: minimum 80% for business logic
- **AAA Pattern**: Arrange, Act, Assert
- **Test Data Builders** - consistent test data
- **Mocking Strategy** - only external dependencies
- **Test Containers** - real PostgreSQL for integration tests
- **Mutation Testing** - PIT for code quality validation

### #ui #ux #vaadin
- **Vaadin 24+ DSL** - prefer native components
- **TypeScript support** - for custom components
- **Lumo Theme** - use standard tokens
- **i18n** - all strings through getTranslation()
- **Accessibility** - ARIA labels, semantic HTML
- **Responsive Design** - mobile-first approach
- **PWA features** - Progressive Web App capabilities
- **Virtual scrolling** - for large datasets

### #database #jpa #postgresql
- **JPA Entity Design** - @Id with @GeneratedValue, audit fields
- **Repository Layer** - @Query with parameters, pagination
- **DTOs** - separate from entities, immutable design
- **Transactions** - @Transactional at service level
- **Query Optimization** - avoid N+1 queries
- **PostgreSQL features**: JSONB, arrays, full-text search, partitioning
- **Connection pooling** - HikariCP optimization
- **Database migrations** - Flyway versioning

### #logging #communication
- **SLF4J/Logback** - never System.out.println
- **Structured Logging** - with proper context
- **MDC** - for request-scoped information
- **Russian** - for chat communication
- **English** - for code and documentation

## ğŸ” Problem Search

### "How to fix..."
- **SQL injection** â†’ #security #database
- **Memory leaks** â†’ #performance #java
- **Slow queries** â†’ #performance #database
- **Security vulnerabilities** â†’ #security #owasp
- **Code duplication** â†’ #architecture #solid
- **Poor performance** â†’ #performance #monitoring
- **Bad error messages** â†’ #error-handling #ui
- **Hardcoded strings** â†’ #i18n #ui
- **System.out.println** â†’ #logging #java
- **@Autowired on fields** â†’ #spring #architecture

### "How to implement..."
- **Caching** â†’ #caching #performance
- **Async processing** â†’ #async #performance
- **Security headers** â†’ #security #owasp
- **Error handling** â†’ #error-handling
- **Testing strategy** â†’ #testing
- **Database optimization** â†’ #database #performance
- **UI components** â†’ #ui #vaadin
- **Logging strategy** â†’ #logging
- **Documentation** â†’ #documentation
- **Monitoring** â†’ #monitoring #performance

## ğŸ“‹ Quick Version for Fast Overview

### Core Principles
1. **Autonomy** - complete tasks fully without confirmations
2. **Quality** - architecture > quick fixes
3. **Security** - OWASP compliance, validation of all inputs
4. **Performance** - caching, async operations, optimization
5. **Testing** - 80% unit, 20% integration, 10% e2e

### Key Prohibitions
- âŒ `System.out.println` â†’ use SLF4J/Logback
- âŒ FQN in code â†’ always add imports
- âŒ Hardcoded strings in UI â†’ use `getTranslation()`
- âŒ `@Autowired` on fields â†’ only constructor injection
- âŒ Primitives in nullable fields â†’ use wrapper types
- âŒ SQL string concatenation â†’ only parameterized queries
- âŒ Log sensitive information â†’ passwords, tokens, PII
- âŒ Full class names (FCL) â†’ always add proper imports

## ğŸ¯ Result

Now you have **3 key files** instead of 17:
1. **`00-super-rules.mdc`** - ALL core rules in one place
2. **`01-commands.mdc`** - commands for maximum efficiency
3. **`02-detailed-rules.mdc`** - detailed rules by topics (this file)

**Maximum efficiency** with minimal number of files! ğŸš€


**Maximum efficiency** with minimal number of files! ğŸš€


**Maximum efficiency** with minimal number of files! ğŸš€


**Maximum efficiency** with minimal number of files! ğŸš€
