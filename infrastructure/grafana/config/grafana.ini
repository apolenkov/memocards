# Grafana Configuration for Subpath Deployment
# This file overrides default settings

[paths]
data = /var/lib/grafana
logs = /var/log/grafana
plugins = /var/lib/grafana/plugins
provisioning = /etc/grafana/provisioning

[server]
protocol = http
http_port = 3000
domain = memocards.duckdns.org
# External URL via Nginx (HTTPS, no port)
# root_url in grafana.ini - overridden by GF_SERVER_ROOT_URL env var in docker-compose
# Must have trailing slash for serve_from_sub_path
root_url = https://%(domain)s/grafana/
serve_from_sub_path = true
enable_gzip = true
router_logging = false

[security]
# Secure cookies when served over HTTPS via Nginx
cookie_secure = true
cookie_samesite = lax
strict_transport_security = true
x_content_type_options = true
x_xss_protection = true

[users]
allow_sign_up = false
allow_org_create = false

